# For each component:
#   - provide a path to the outer/user componen in the hierarchy
#   - list the fields expected in each import/export/internal states
#   - annotate whether field is "complete"

- component: root/<user>
  import:
    E1: {status: complete, typekind: R4, value: 7.}
- component: root
  import:
    E1: {status: complete, typekind: R4}

- component: extdata/collection_1/<user>
  export:
    E1: {status: complete, typekind: R8}

- component: extdata/collection_1
  export:
    E1: {status: complete, typekind: R8, value: 7.}
#    E1(1): {status: complete, typekind: R4}
    E2: {status: complete, typekind: R4}

- component: extdata/<user>
  export:
    E1: {status: complete, typekind: R8}
    E2: {status: complete, typekind: R4}
  import:
    E1: {status: complete, typekind: R8}
    E2: {status: complete, typekind: R4}

# Because collection_1 is added _after_ the usual advertise phase some
# connections are too late for the automated propagation of exports.
# We don't expect this to be a problem in practice, but for now the
# expectations on extdata should be left commented out below.  A
# workaround can be implemented if the situation changes.

#- component: extdata
#  export:
#    "collection_1/E1": {status: complete, typekind: R8}
#    "collection_1/E1(0)": {status: complete, typekind: R4}
